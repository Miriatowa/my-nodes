# js基础面试题

## 1、js有哪些垃圾回收机制？

#### 标记清除：

这是js最常见的垃圾回收机制。垃圾回收器会在运行的时候给存储在内存中的所有变量加上标记，然后去掉环境中的变量以及闭包中的变量，在这完成之后仍然存在的标记就是要删除的变量

#### 引用计数：

在低版本的IE中采用引用计数的方式进行垃圾回收，经常会发生内存泄露，引用计数的策略时跟踪记录每一个值被使用的次数。当声明一个变量并将这个引用类型赋值给该变量的时候，这个值的引用次数就加1，如果变量的值变成另外以一个，则这个值的引用就减少1.当这个值得引用变为0 的时候，说明没有变量在使用，这个值没法被访问

## 2、DOM节点的类型

* 整个文档就是一个文档（**document**）节点

* 每个HTML标签是一个元素 （**Element**）节点

* 每一个HTML属性是一个属性（**Attribute**）节点

* 包含在HTML元素中的文本时文本（**Text**）节点

  

## 3、谈谈script标签中defer和async属性的区别？

1. defer属性规定是否延迟执行脚本，直到页面加载为止，async属性规定脚本一旦可用，就异步执行
2. defer并行加载js文件，会按照页面的script标签的顺序执行，async并行加载js文件，下载完成立即执行，不会按照页面上的script标签的顺序执行

## 4、谈谈你对闭包的理解

使用闭包主要是为了设计私有的方法和变量。闭包的优点是可以避免全局变量的污染；缺点是闭包会常驻内存，增加内存使用量，使用不当很容易造成内存泄漏。在js中，有权访问其它函数内部变量的函数，有3个特性：

* 函数嵌套函数
* 函数内部引用外部的参数和变量
* 参数和变量不会被被垃圾回收机制回收

## 5、eval的功能是什么？

它的功能是把对应的字符串解析成js代码并运行，应该避免使用eval，它会造成程序的不安全，非常影响性能



## 6、什么是URI、URL、URN?

#### URI:  Uniform Resource Identifer

统一资源标识符，用唯一的标识一个资源

#### URL： Uniform Resource Locator

统一资源定位符，URL可以用来标识一个资源，而且还指明如何定位

#### URN： Uniform Resource Name

统一资源命名，用名称定位一个资源

> 举例：
>
> 1、你要寻找一个Miraitowa的人，Miraitowa就是一个**URI**（没有寻找资源的方法）
>
> 2、怎么寻找Miraitowa这个人？ 
>
> * 家庭住址（URL）：https://www.baidu.com
> * 姓名+身份证（URN）：www.baidu.com



## 7、http和https

#### HTTP：超文本传输协议（ Hyper Text Transfer Protocol）

客户端和服务器端请求和应答的标准，用于从web服务器传输超文本到本地浏览器的传输协议

#### HTTTPS: 超文本传输安全协议 （Hyper Text Transfer Protocol Secure）

http的安全版

#### 区别：

1. http是不安全的，https可防止被攻击
2. http协议是明文传输，直接在TCP连接上运行，客户端和服务器端都无法验证对方身份。而https协议的传输被SLL/TLS加密。且运行在SLL/TSL上，所以数据传输是安全的 



## 8、谈谈TCP的三次握手？

![](https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f8040833-b067-4f14-836a-a9837f7dab99/f6b07afc-7e5d-4c79-b822-bb9ab41a0473.png)

第一次握手：建立连接时，客户端发送syn包（syn=x）到服务器，并进入SYN_SENT状态，等待服务器确认；SYN：同步序列编号（Synchronize Sequence Numbers）。

第二次握手：服务器收到syn包，必须确认客户的SYN（ack=x+1），同时自己也发送一个SYN包（syn=y），即SYN+ACK包，此时服务器进入SYN_RECV状态；

第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=y+1），此包发送完毕，客户端和服务器进入ESTABLISHED（TCP连接成功）状态，完成三次握手。


| 字段 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| URG  | 紧急指针是否有效。为1，表示某一位需要被优先处理              |
| ACK  | 确认号是否有效，一般置为1。                                  |
| PSH  | 提示接收端应用程序立即从TCP缓冲区把数据读走。                |
| RST  | 对方要求重新建立连接，复位。                                 |
| SYN  | 请求建立连接，并在其序列号的字段进行序列号的初始值设定。建立连接，设置为1 |
| FIN  | 希望断开连接。                                               |



## 9、谈谈你对TCP和UDP的理解？

#### TCP：传输控制协议 (Transmission Control Protocol)

特点：面向连接，提供可靠的的服务，通过tcp连接传送的数据，无差错、不丢失、不重复且按序到达，不适合大数据量的交换

应用场景：http请求、ftp文件传输、邮件收发

#### UDP:  用户数据报协议 (User Data Protocol)

特点：面向无连接、无状态传输机制、不可靠协议

应用场景：消息收发、语音通话、直播

​	

## 10、http缓存机制

http缓存即是浏览器第一次向一个服务器发起http请求，服务器会返回请求的资源，并在响应头中添加一些有关缓存的字段如：cache-control、expires、last-modifed、ETag、Date等，之后浏览器在向该服务器请求资源就可以视情况使用强缓存和协商缓存

#### 强缓存：浏览器直接从本地获取数据，不与服务器进行交互

#### 协商缓存：浏览器发送请求到服务器，服务器判断是否可用本地缓存

![](https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f8040833-b067-4f14-836a-a9837f7dab99/cbd60673-1fcf-459e-9aeb-63b8b60e90ef.png)

## 11、http常用状态码

#### 状态码类别

|      | 类别                             | 原因短语                   |
| ---- | -------------------------------- | -------------------------- |
| 1××  | 信息状态码（Informational）      | 接受的请求正在处理         |
| 2××  | 成功状态码（Success）            | 请求正常处理完毕           |
| 3××  | 重定向状态码（Redirection）      | 需要进行附加操作以完成请求 |
| 4××  | 客户端错误状态码（Client Error） | 服务器无法处理请求         |
| 5××  | 服务器错误状态码（Server Error） | 服务器处理请求出错         |

#### 状态码

#####  2XX——表明请求被正常处理了

1、200 OK：请求已正常处理。

2、204 No Content：请求处理成功，但没有任何资源可以返回给客户端，一般在只需要从客户端往服务器发送信息，而对客户端不需要发送新信息内容的情况下使用。

3、206 Partial Content：是对资源某一部分的请求，该状态码表示客户端进行了范围请求，而服务器成功执行了这部分的GET请求。响应报文中包含由Content-Range指定范围的实体内容。

##### 3XX——表明浏览器需要执行某些特殊的处理以正确处理请求

4、301 Moved Permanently：资源的uri已更新，你也更新下你的书签引用吧。**永久性重定向**，请求的资源已经被分配了新的URI，以后应使用资源现在所指的URI。

5、302 Found：资源的URI已临时定位到其他位置了，姑且算你已经知道了这个情况了。临时性重定向。和301相似，但302代表的资源不是永久性移动，只是临时性性质的。换句话说，已移动的资源对应的URI将来还有可能发生改变。

6、303 See Other：资源的URI已更新，你是否能临时按新的URI访问。该状态码表示由于请求对应的资源存在着另一个URL，应使用GET方法定向获取请求的资源。303状态码和302状态码有着相同的功能，但303状态码明确表示客户端应当采用GET方法获取资源，这点与302状态码有区别。

当301,302,303响应状态码返回时，几乎所有的浏览器都会把POST改成GET，并删除请求报文内的主体，之后请求会自动再次发送。

7、304 Not Modified：资源已找到，但未符合条件请求。该状态码表示客户端发送附带条件的请求时（采用GET方法的请求报文中包含If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since中任一首部）服务端允许请求访问资源，但因发生请求未满足条件的情况后，直接返回304.。

8、307 Temporary Redirect：临时重定向。与302有相同的含义。

##### 4XX——表明客户端是发生错误的原因所在。

9、  400 Bad Request：服务器端无法理解客户端发送的请求，请求报文中可能存在语法错误。

10、401 Unauthorized：该状态码表示发送的请求需要有通过HTTP认证（BASIC认证，DIGEST认证）的认证信息。

11、403 Forbidden：不允许访问那个资源。该状态码表明对请求资源的访问被服务器拒绝了。（权限，未授权IP等）

12、404 Not Found：服务器上没有请求的资源。路径错误等。

##### 5XX——服务器本身发生错误

13、500 Internal Server Error：貌似内部资源出故障了。该状态码表明服务器端在执行请求时发生了错误。也有可能是web应用存在bug或某些临时故障。

14、503 Service Unavailable：抱歉，我现在正在忙着。该状态码表明服务器暂时处于超负载或正在停机维护，现在无法处理请求。
